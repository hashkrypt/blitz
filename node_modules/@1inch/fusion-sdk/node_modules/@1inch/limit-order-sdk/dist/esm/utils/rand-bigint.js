import { randomBytes } from 'ethers';
export function randBigInt(max) {
    var bytesCount = 0;
    max = BigInt(max) + 1n;
    var rest = max;
    while(rest){
        rest = rest >> 8n;
        bytesCount += 1;
    }
    var bytes = randomBytes(bytesCount);
    var val = bytes.reduce(function(acc, val, i) {
        return acc + (BigInt(val) << BigInt(i * 8));
    }, 0n);
    return val % max;
}
